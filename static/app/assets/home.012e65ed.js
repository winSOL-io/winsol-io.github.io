import{u as he,D as xt,a as Dt,b as Ut,l as le,s as pe,c as ze,f as se,d as ye,e as Xe,g as Wt,h as Ie,i as Vt,j as zt,_ as ue,X as ie,k as it,m as Kt,n as rt,o as Qt,p as Xt,q as Gt,r as Ht,N as jt}from"./index.817270f0.js";import{Z as Re,a2 as G,r as q,aM as Yt,V as Ce,aN as Jt,R as Le,aO as Ge,q as c,aP as Zt,aQ as ea,_ as Be,w as ae,aR as ta,aa as T,aJ as V,ae as s,a9 as _e,aL as R,aq as fe,aS as aa,an as K,aT as be,aU as kt,aV as yt,aW as x,aX as wt,aY as we,aZ as He,ad as f,af as St,a_ as oa,a$ as $t,b0 as At,b1 as Tt,b2 as Pt,b3 as na,b4 as sa,b5 as la,b6 as Te,b7 as qe,b8 as Ct,b9 as Ke,ba as ia,bb as ra,bc as ca,bd as ua,be as Fe,bf as me,bg as da,bh as ge,bi as fa,bj as $e,bk as Ue,bl as ct,bm as We,bn as va,bo as ma,bp as pa,bq as ut,br as ha,ab as ee,ac as m,ah as Y,bs as ve,aj as Ae,ak as oe,ag as je,bt as _a,bu as Ne,bv as ba,bw as ga,bx as ka,al as ya}from"./vendor.199eabdf.js";import{r as wa,_ as Sa,Q as ke,a as $a,b as Aa,c as Qe,d as Ta,e as Ve,f as de,g as Pa,h as Ca}from"./StackedAndLiquidity.90d8dedd.js";import{u as La,a as qa,b as Na,c as dt,d as Ia,_ as Ra}from"./CopyToClipboard.02e9f88b.js";const Ba={}.VITE_TELEGRAM_ANNOUNCEMENT_URL;function Ye(){const e=he(),{notify:t}=Re(),i=G(e,"cluster"),l=q(!1);async function o(a,{onSuccess:n,onError:d,idx:p,commitment:g=xt,sendTimeout:r=Dt,confirmTimeout:k=Ut}={}){p=p!=null?p:"";let _=t({progress:!0,type:"ongoing",message:p?`Sending transaction "${p}" ...`:"Sending transaction...",timeout:r});l.value=!0;const C={label:"Close",color:"white"};let P="";try{P=String(await a)}catch(h){l.value=!1,_(),String(h==null?void 0:h.message).startsWith("User rejected")||t({message:p?`Transaction "${p}" error`:"Transaction error",caption:h==null?void 0:h.message,type:"negative",timeout:0,actions:[C]});return}const M=`https://explorer.solana.com/tx/${P}?cluster=${i.value}`,E={label:"Explore",color:"white",target:"_blank",href:M,onClick:()=>!1},B={label:"Telegram",color:"white",target:"_blank",href:Ba};try{_(),_=t({progress:!0,type:"ongoing",message:p?`Confirming transaction "${p}" ...`:"Confirming transaction...",actions:[E],timeout:k});const h=await e.connection.confirmTransaction(P,g);if(_(),h.value.err)throw new Error(JSON.stringify(h.value.err));_=t({message:p?`Transaction "${p}" confirmed`:"Transaction confirmed",type:"positive",actions:[E]}),n&&n(P)}catch(h){_(),t({message:p?`Transaction "${p}" error`:"Transaction error",caption:h.message,type:"negative",timeout:0,actions:[E,B,C]}),d&&d(h),console.error(h)}finally{l.value=!1}}return{monitorTransaction:o,sending:l}}function Lt(){const{notify:e}=Re(),t=he(),i=ye(),l=Xe(),{monitorTransaction:o,sending:a}=Ye(),n=Ge(),d=G(i,"lamportsPerSignature"),p=G(i,"stakePool"),g=G(i,"minRentBalance"),r=G(l,"nativeBalance"),k=G(l,"hasTokenAccount"),_=q(!1),C=q(!1),P=c(()=>{var h,v;return(v=(h=p.value)==null?void 0:h.totalLamports.toNumber())!=null?v:0}),M=c(()=>Math.max(0,ze(t.stakeLimit)-P.value)),E=c(()=>{var h;return d.value*2+(((h=n.value)==null?void 0:h.publicKey)&&!k.value?g.value:0)}),B=c(()=>_.value||a.value);return{stakeSuccessDialog:C,depositFee:E,depositing:B,depositStake:async h=>{var v,y,L,S,A;try{const H=(A=(S=(L=(y=(v=h.account.data)==null?void 0:v.parsed)==null?void 0:y.info)==null?void 0:L.stake)==null?void 0:S.delegation)==null?void 0:A.voter;if(!H)throw new Error("Wrong stake account state, must be delegated to validator");const{rentFee:j,instructions:ne,signers:J}=await Yt(t.connection,t.stakePoolAddress,n.value.publicKey,new Ce(H),h.pubkey);if(r.value<j)throw new Error(`Insufficient balance, at least ${le(j)} SOL are required.`);let Q=!1;return await o(pe(t.connection,n.value,ne,J),{onSuccess:()=>Q=!0}),Q}catch(H){throw e({message:H.message,type:"negative"}),H}finally{_.value=!1}},depositSol:async(h=1)=>{var v;if(!((v=n.value)!=null&&v.publicKey))return console.log("Wallet is not connected."),!1;try{const y=ze(h);if(t.stakeLimit>0&&y>M.value)throw new Error(`Stake limit is reached. Available to stake ${se(M.value)} SOL`);_.value=!0;const{rentFee:L,instructions:S,signers:A}=await Jt(t.connection,t.stakePoolAddress,n.value.publicKey,y);if(r.value<L)throw new Error(`Insufficient balance, at least ${le(L)} SOL are required.`);return await o(pe(t.connection,n.value,S,A),{onSuccess:()=>C.value=!0}),!0}catch(y){throw e({message:y.message,type:"negative"}),y}finally{_.value=!1}},delegateAccount:async(h,v)=>{var y;if(!((y=n.value)!=null&&y.publicKey)){console.log("Wallet is not connected.");return}try{const L=Le.delegate({stakePubkey:h,authorizedPubkey:n.value.publicKey,votePubkey:new Ce(v)});await o(pe(t.connection,n.value,L.instructions,[]))}catch(L){throw e({message:L.message,type:"negative"}),L}}}}function Fa(){const e=he(),t=ye(),i=Ie(),l=Vt(),{notify:o}=Re(),{monitorTransaction:a,sending:n}=Ye(),{wallet:d,connected:p}=Be(),g=Ge(),r=G(t,"lamportsPerSignature"),k=G(t,"stakePool"),_=G(t,"reserveStakeBalance"),C=G(l,"epochInfo"),P=q(!1),M=q(!0),E=q(!1),B=q(0);return ae(ta(B,100),async h=>{var v;if((v=k.value)!=null&&v.reserveStake){const y=ze(h);if(_.value>y){M.value=!0;return}}M.value=!1}),{amount:B,useWithdrawSol:M,setAmount:h=>B.value=Number(h),useReserve:(h=!0)=>P.value=h,withdrawFee:c(()=>r.value*3),withdrawSolFee:c(()=>r.value*2),withdrawing:c(()=>E.value||n.value),withdraw:async(h=!1)=>{var v,y;if(!p.value)throw new Error("Wallet not connected");if(B.value<=0)return!1;try{if(E.value=!0,M.value&&!h){console.log("------------------------"),console.log("|- WITHDRAW SOL"),console.log("------------------------");const{instructions:J,signers:Q}=await Zt(e.connection,e.stakePoolAddress,d.value.publicKey,d.value.publicKey,B.value);return await a(pe(e.connection,g.value,J,Q)),!0}const{instructions:L,signers:S}=await ea(e.connection,e.stakePoolAddress,d.value.publicKey,B.value,P.value,void 0,void 0,void 0,(v=C.value)!=null&&v.epoch?await Ea(C.value.epoch):void 0),A=[...L],H=(y=S[1])==null?void 0:y.publicKey,j=Le.deactivate({stakePubkey:H,authorizedPubkey:d.value.publicKey}).instructions,ne=["Unstake","Deactivate"];return await Wt(e.connection,g.value,[A,j],[S,[]],{stopOnError:!0,onSuccess:async(J,Q)=>a(J,{idx:ne[Q],onError(b){throw b}})}),i.load(),!0}catch(L){o({message:L.message,type:"negative"})}finally{E.value=!1}}}}async function Ea(e){if(!!e)try{const t=await zt(e);if(t.validators.length>0){const i=t.validators.reduce((l,o)=>(l[o.vote]=o.apy,l),{});return console.log("Use APY Comparator"),(l,o)=>{var g,r;const a=(g=l.voteAddress)==null?void 0:g.toBase58(),n=(r=o.voteAddress)==null?void 0:r.toBase58();if(!a||!n)return 0;const d=parseFloat(String(i[a])),p=parseFloat(String(i[n]));return d-p}}}catch(t){console.log("Error:",t)}}const Oa={},Ma={class:"custom-section"},xa=s("div",{class:"container"},null,-1),Da=[xa];function Ua(e,t){return T(),V("section",Ma,Da)}var Wa=ue(Oa,[["render",Ua]]);const Va={class:"faq-section",style:{display:"none"}},za={class:"container"},Ka={class:"faq-list"},Qa=aa('<div class="faq-item"><div class="faq-item__title"> What is &quot;staking&quot;? </div><div class="faq-item__body"><p> By staking your SOL tokens, you help secure the network and earn rewards while doing so. You can stake by delegating your tokens to validators who process transactions and run the Solana network. </p><p> Read more at <a href="https://docs.solana.com/staking" target="blank">https://docs.solana.com/staking</a></p></div></div><div class="faq-item"><div class="faq-item__title"> What is a Stake Pool? </div><div class="faq-item__body"><p> Here&#39;s what Solana Docs have to say on Stake Pools: &quot;This on-chain program pools together SOL to be staked by a manager, allowing SOL holders to stake and earn rewards without managing stakes. Users deposit SOL in exchange for SPL tokens (staking derivatives) that represent their ownership in the stake pool. The pool manager stakes deposited SOL according to their strategy, perhaps using a variant of an auto-delegation bot as described above. </p></div></div>',2),Xa={class:"faq-item"},Ga=s("div",{class:"faq-item__title"}," How do I get my rewards? ",-1),Ha={class:"faq-item__body"},ja=s("p",null,[K(" Read more at "),s("a",{href:"https://docs.solana.com/staking",target:"blank"},"https://docs.solana.com/staking")],-1),Ya=s("div",{class:"faq-item"},[s("div",{class:"faq-item__title"}," Who is a Delegator? "),s("div",{class:"faq-item__body"},[s("p",null,[K(" Any user who delegates their SOL to a Validator (either directly or via Stake Pool), enabling them to validate new blocks and keep the network alive, becomes a Delegator. "),s("br"),K(" Anyone who has some SOL in their wallet may delegate it \u2013 and earn rewards by doing so ")])])],-1),Ja=_e({__name:"FaqSection",setup(e){return(t,i)=>(T(),V("section",Va,[s("div",za,[s("div",Ka,[Qa,s("div",Xa,[Ga,s("div",Ha,[s("p",null," Your "+R(fe(ie))+" represents your share in the pool\u2019s total stake, which grows constantly as rewards are accrued. This reflects in the "+R(fe(ie))+"-SOL exchange rate which will be used to calculate the SOL you get back when you unstake. Total "+R(fe(ie))+" price growth is equal to the pool\u2019s APY. ",1),ja])]),Ya])])]))}});var Za="/app/assets/xsol.f8a4a2f0.svg";const eo=["alt","src"],to=["alt"],qt=_e({__name:"TokenSvg",setup(e){return(t,i)=>fe(it)?(T(),V("img",{key:0,alt:fe(ie),src:fe(it)},null,8,eo)):(T(),V("img",{key:1,alt:fe(ie),src:Za},null,8,to))}});var Nt=be({name:"QInnerLoading",props:{...kt,...La,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const i=we(),l=yt(e,i.proxy.$q),{transition:o,transitionStyle:a}=qa(e,c(()=>e.showing)),n=c(()=>"q-inner-loading absolute-full column flex-center"+(l.value===!0?" q-inner-loading--dark":"")),d=c(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function p(){const r=[x(He,{size:e.size,color:e.color})];return e.label!==void 0&&r.push(x("div",{class:d.value,style:e.labelStyle},[e.label])),r}function g(){return e.showing===!0?x("div",{class:n.value,style:a.value},t.default!==void 0?t.default():p()):null}return()=>x(wt,{name:o.value,appear:!0},g)}});const ao={props:{selected:{type:Boolean,required:!0}},setup(){const e=ye(),t=G(e,"stakePool"),i=c(()=>{var l,o;return le((o=(l=t.value)==null?void 0:l.totalLamports.toNumber())!=null?o:0)});return{apyLoading,apy:c(()=>se(i,0))}}},oo=K(" APY "),no={class:"apy__value"};function so(e,t){return T(),V("div",{class:St(["apy",{"apy--selected":e.selected}])},[oo,s("div",no," \u2248"+R(e.apy),1),f(Nt,{showing:e.apyLoading},null,8,["showing"])],2)}var lo=ue(ao,[["render",so],["__scopeId","data-v-efada52a"]]);let io=0;const ro=["click","keydown"],co={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${io++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function uo(e,t,i,l){const o=oa($t,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:a}=we(),n=q(null),d=q(null),p=q(null),g=c(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=c(()=>o.currentModel.value===e.name),k=c(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(o.tabProps.value.activeClass?" "+o.tabProps.value.activeClass:"")+(o.tabProps.value.activeColor?` text-${o.tabProps.value.activeColor}`:"")+(o.tabProps.value.activeBgColor?` bg-${o.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&o.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||o.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0&&l.linkClass.value!==""?` ${l.linkClass.value}`:"")),_=c(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(o.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=c(()=>e.disable===!0||o.hasFocus.value===!0?-1:e.tabindex||0);function P(v,y){if(y!==!0&&n.value!==null&&n.value.focus(),e.disable!==!0){let L;if(l!==void 0)if(l.hasRouterLink.value===!0)L=()=>{v.__qNavigate=!0,o.avoidRouteWatcher=!0;const S=l.navigateToRouterLink(v);S===!1?o.avoidRouteWatcher=!1:S.then(A=>{o.avoidRouteWatcher=!1,A===void 0&&o.updateModel({name:e.name,fromRoute:!0})})};else{i("click",v);return}else L=()=>{o.updateModel({name:e.name,fromRoute:!1})};i("click",v,L),v.defaultPrevented!==!0&&L()}}function M(v){sa(v,[13,32])?P(v,!0):la(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&o.onKbdNavigate(v.keyCode,a.$el)===!0&&Te(v),i("keydown",v)}function E(){const v=o.tabProps.value.narrowIndicator,y=[],L=x("div",{ref:p,class:["q-tab__indicator",o.tabProps.value.indicatorClass]});e.icon!==void 0&&y.push(x(qe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&y.push(x("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&y.push(e.alertIcon!==void 0?x(qe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):x("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&y.push(L);const S=[x("div",{class:"q-focus-helper",tabindex:-1,ref:n}),x("div",{class:_.value},Ct(t.default,y))];return v===!1&&S.push(L),S}const B={name:c(()=>e.name),rootRef:d,tabIndicatorRef:p,routerProps:l};At(()=>{o.unregisterTab(B),o.recalculateScroll()}),Tt(()=>{o.registerTab(B),o.recalculateScroll()});function h(v,y){const L={ref:d,class:k.value,tabindex:C.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:P,onKeydown:M,...y};return Pt(x(v,L,E()),[[na,g.value]])}return{renderTab:h,$tabs:o}}var ft=be({name:"QTab",props:co,emits:ro,setup(e,{slots:t,emit:i}){const{renderTab:l}=uo(e,t,i);return()=>l("div")}});function fo(e,t,i){const l=i===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?l[0]:l[1]}${e?` text-${e}`:""}`}const vo=["left","center","right","justify"],vt=()=>{};var mo=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>vo.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:i}){const l=we(),{proxy:{$q:o}}=l,{registerTick:a}=Na(),{registerTimeout:n,removeTimeout:d}=dt(),{registerTimeout:p}=dt(),g=q(null),r=q(null),k=q(e.modelValue),_=q(!1),C=q(!0),P=q(!1),M=q(!1),E=c(()=>o.platform.is.desktop===!0||e.mobileArrows===!0),B=[],h=q(!1);let v=!1,y,L,S,A=E.value===!0?Ze:Ke;const H=c(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:fo(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=c(()=>`q-tabs__content--align-${_.value===!0?"left":M.value===!0?"justify":e.align}`),ne=c(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${E.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),J=c(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+j.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(o.platform.is.mobile===!0?" scroll":"")),Q=c(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),b=c(()=>e.vertical!==!0&&o.lang.rtl===!0),F=c(()=>wa===!1&&b.value===!0);ae(b,A),ae(()=>e.modelValue,u=>{X({name:u,setCurrent:!0,skipEmit:!0})}),ae(()=>e.outsideArrows,()=>{me(Z())}),ae(E,u=>{A=u===!0?Ze:Ke,me(Z())});function X({name:u,setCurrent:$,skipEmit:N,fromRoute:U}){k.value!==u&&(N!==!0&&i("update:modelValue",u),($===!0||e["onUpdate:modelValue"]===void 0)&&(O(k.value,u),k.value=u)),U!==void 0&&(v=U)}function Z(){a(()=>{l.isDeactivated!==!0&&l.isUnmounted!==!0&&w({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function w(u){if(Q.value===void 0||r.value===null)return;const $=u[Q.value.container],N=Math.min(r.value[Q.value.scroll],Array.prototype.reduce.call(r.value.children,(I,W)=>I+(W[Q.value.content]||0),0)),U=$>0&&N>$;_.value!==U&&(_.value=U),U===!0&&me(A);const z=$<parseInt(e.breakpoint,10);M.value!==z&&(M.value=z)}function O(u,$){const N=u!=null&&u!==""?B.find(z=>z.name.value===u):null,U=$!=null&&$!==""?B.find(z=>z.name.value===$):null;if(N&&U){const z=N.tabIndicatorRef.value,I=U.tabIndicatorRef.value;clearTimeout(y),z.style.transition="none",z.style.transform="none",I.style.transition="none",I.style.transform="none";const W=z.getBoundingClientRect(),D=I.getBoundingClientRect();I.style.transform=e.vertical===!0?`translate3d(0,${W.top-D.top}px,0) scale3d(1,${D.height?W.height/D.height:1},1)`:`translate3d(${W.left-D.left}px,0,0) scale3d(${D.width?W.width/D.width:1},1,1)`,me(()=>{y=setTimeout(()=>{I.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",I.style.transform="none"},70)})}U&&_.value===!0&&te(U.rootRef.value)}function te(u){const{left:$,width:N,top:U,height:z}=r.value.getBoundingClientRect(),I=u.getBoundingClientRect();let W=e.vertical===!0?I.top-U:I.left-$;if(W<0){r.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(W),A();return}W+=e.vertical===!0?I.height-z:I.width-N,W>0&&(r.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(W),A())}function Ze(){const u=r.value;if(u!==null){const $=u.getBoundingClientRect(),N=e.vertical===!0?u.scrollTop:Math.abs(u.scrollLeft);b.value===!0?(C.value=Math.ceil(N+$.width)<u.scrollWidth-1,P.value=N>0):(C.value=N>0,P.value=e.vertical===!0?Math.ceil(N+$.height)<u.scrollHeight:Math.ceil(N+$.width)<u.scrollWidth)}}function et(u){ce(),ot(u),L=setInterval(()=>{ot(u)===!0&&ce()},5)}function tt(){et(F.value===!0?Number.MAX_SAFE_INTEGER:0)}function at(){et(F.value===!0?0:Number.MAX_SAFE_INTEGER)}function ce(){clearInterval(L)}function It(u,$){const N=Array.prototype.filter.call(r.value.children,D=>D===$||D.matches&&D.matches(".q-tab.q-focusable")===!0),U=N.length;if(U===0)return;if(u===36)return te(N[0]),!0;if(u===35)return te(N[U-1]),!0;const z=u===(e.vertical===!0?38:37),I=u===(e.vertical===!0?40:39),W=z===!0?-1:I===!0?1:void 0;if(W!==void 0){const D=b.value===!0?-1:1,re=N.indexOf($)+W*D;return re>=0&&re<U&&(te(N[re]),N[re].focus({preventScroll:!0})),!0}}const Rt=c(()=>F.value===!0?{get:u=>Math.abs(u.scrollLeft),set:(u,$)=>{u.scrollLeft=-$}}:e.vertical===!0?{get:u=>u.scrollTop,set:(u,$)=>{u.scrollTop=$}}:{get:u=>u.scrollLeft,set:(u,$)=>{u.scrollLeft=$}});function ot(u){const $=r.value,{get:N,set:U}=Rt.value;let z=!1,I=N($);const W=u<I?-1:1;return I+=W*5,I<0?(z=!0,I=0):(W===-1&&I<=u||W===1&&I>=u)&&(z=!0,I=u),U($,I),A(),z}function Oe(){return B.filter(u=>u.routerProps!==void 0&&u.routerProps.hasRouterLink.value===!0)}function Bt(){let u=null,$=v;const N={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:U}=l.proxy.$route,z=k.value;let I=$===!0?vt:D=>{z===D.name.value&&($=!0,I=vt)};const W=Oe();for(const D of W){const re=D.routerProps.exact.value===!0;if(D.routerProps[re===!0?"linkIsExactActive":"linkIsActive"].value!==!0||N.exact===!0&&re!==!0){I(D);continue}const Me=D.routerProps.linkRoute.value,xe=Me.hash;if(re===!0){if(U===xe){u=D.name.value;break}else if(U!==""&&xe!==""){I(D);continue}}const De=Me.matched.length,lt=Me.href.length-xe.length;if(De===N.matchedLen?lt>N.hrefLen:De>N.matchedLen){u=D.name.value,Object.assign(N,{matchedLen:De,hrefLen:lt,exact:re});continue}I(D)}($===!0||u!==null)&&X({name:u,setCurrent:!0,fromRoute:!0})}function Ft(u){if(d(),h.value!==!0&&g.value!==null&&u.target&&typeof u.target.closest=="function"){const $=u.target.closest(".q-tab");$&&g.value.contains($)===!0&&(h.value=!0)}}function Et(){n(()=>{h.value=!1},30)}function Se(){nt.avoidRouteWatcher!==!0&&p(Bt)}function Ot(u){B.push(u),Oe().length>0&&(S===void 0&&(S=ae(()=>l.proxy.$route,Se)),Se())}function Mt(u){B.splice(B.indexOf(u),1),S!==void 0&&(Oe().length===0&&(S(),S=void 0),Se())}const nt={currentModel:k,tabProps:H,hasFocus:h,registerTab:Ot,unregisterTab:Mt,verifyRouteModel:Se,updateModel:X,recalculateScroll:Z,onKbdNavigate:It,avoidRouteWatcher:!1};ia($t,nt),At(()=>{clearTimeout(y),S!==void 0&&S()});let st=!1;return ra(()=>{st=!0}),ca(()=>{st===!0&&Z()}),()=>{const u=[x(ua,{onResize:w}),x("div",{ref:r,class:J.value,onScroll:A},Fe(t.default))];return E.value===!0&&u.push(x(qe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||o.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:tt,onTouchstartPassive:tt,onMouseup:ce,onMouseleave:ce,onTouchend:ce}),x(qe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||o.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:at,onTouchstartPassive:at,onMouseup:ce,onMouseleave:ce,onTouchend:ce})),x("div",{ref:g,class:ne.value,role:"tablist",onFocusin:Ft,onFocusout:Et},u)}}});const Je={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},po=Object.keys(Je);Je.all=!0;function mt(e){const t={};for(const i of po)e[i]===!0&&(t[i]=!0);return Object.keys(t).length===0?Je:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function pt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function ho(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,l)=>{const o=parseFloat(i);o&&(t[l]=o)}),t}var _o=da({name:"touch-swipe",beforeMount(e,{value:t,arg:i,modifiers:l}){if(l.mouse!==!0&&ge.has.touch!==!0)return;const o=l.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:ho(i),direction:mt(l),noop:Ke,mouseStart(n){pt(n,a)&&fa(n)&&($e(a,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(n,!0))},touchStart(n){if(pt(n,a)){const d=n.target;$e(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),a.start(n)}},start(n,d){ge.is.firefox===!0&&Ue(e,!0);const p=ct(n);a.event={x:p.left,y:p.top,time:Date.now(),mouse:d===!0,dir:!1}},move(n){if(a.event===void 0)return;if(a.event.dir!==!1){Te(n);return}const d=Date.now()-a.event.time;if(d===0)return;const p=ct(n),g=p.left-a.event.x,r=Math.abs(g),k=p.top-a.event.y,_=Math.abs(k);if(a.event.mouse!==!0){if(r<a.sensitivity[1]&&_<a.sensitivity[1]){a.end(n);return}}else if(r<a.sensitivity[2]&&_<a.sensitivity[2])return;const C=r/d,P=_/d;a.direction.vertical===!0&&r<_&&r<100&&P>a.sensitivity[0]&&(a.event.dir=k<0?"up":"down"),a.direction.horizontal===!0&&r>_&&_<100&&C>a.sensitivity[0]&&(a.event.dir=g<0?"left":"right"),a.direction.up===!0&&r<_&&k<0&&r<100&&P>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&r<_&&k>0&&r<100&&P>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&r>_&&g<0&&_<100&&C>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&r>_&&g>0&&_<100&&C>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Te(n),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ia(),a.styleCleanup=M=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const E=()=>{document.body.classList.remove("no-pointer-events--children")};M===!0?setTimeout(E,50):E()}),a.handler({evt:n,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:d,distance:{x:r,y:_}})):a.end(n)},end(n){a.event!==void 0&&(We(a,"temp"),ge.is.firefox===!0&&Ue(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),n!==void 0&&a.event.dir!==!1&&Te(n),a.event=void 0)}};e.__qtouchswipe=a,l.mouse===!0&&$e(a,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),ge.has.touch===!0&&$e(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const i=e.__qtouchswipe;i!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&i.end(),i.handler=t.value),i.direction=mt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(We(t,"main"),We(t,"temp"),ge.is.firefox===!0&&Ue(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function bo(){const e=new Map;return{getCache:function(t,i){return e[t]===void 0?e[t]=i:e[t]},getCacheWithFn:function(t,i){return e[t]===void 0?e[t]=i():e[t]}}}const go={name:{required:!0},disable:Boolean},ht={setup(e,{slots:t}){return()=>x("div",{class:"q-panel scroll",role:"tabpanel"},Fe(t.default))}},ko={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},yo=["update:modelValue","before-transition","transition"];function wo(){const{props:e,emit:t,proxy:i}=we(),{getCacheWithFn:l}=bo();let o,a;const n=q(null),d=q(null);function p(b){const F=e.vertical===!0?"up":"left";A((i.$q.lang.rtl===!0?-1:1)*(b.direction===F?1:-1))}const g=c(()=>[[_o,p,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),r=c(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),k=c(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),_=c(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=c(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),P=c(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),M=c(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ae(()=>e.modelValue,(b,F)=>{const X=v(b)===!0?y(b):-1;a!==!0&&S(X===-1?0:X<y(F)?-1:1),n.value!==X&&(n.value=X,t("before-transition",b,F),me(()=>{t("transition",b,F)}))});function E(){A(1)}function B(){A(-1)}Object.assign(i,{next:E,previous:B,goTo:h});function h(b){t("update:modelValue",b)}function v(b){return b!=null&&b!==""}function y(b){return o.findIndex(F=>F.props.name===b&&F.props.disable!==""&&F.props.disable!==!0)}function L(){return o.filter(b=>b.props.disable!==""&&b.props.disable!==!0)}function S(b){const F=b!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(b===-1?r.value:k.value):null;d.value!==F&&(d.value=F)}function A(b,F=n.value){let X=F+b;for(;X>-1&&X<o.length;){const Z=o[X];if(Z!==void 0&&Z.props.disable!==""&&Z.props.disable!==!0){S(b),a=!0,t("update:modelValue",Z.props.name),setTimeout(()=>{a=!1});return}X+=b}e.infinite===!0&&o.length>0&&F!==-1&&F!==o.length&&A(b,b===-1?o.length:-1)}function H(){const b=y(e.modelValue);return n.value!==b&&(n.value=b),!0}function j(){const b=v(e.modelValue)===!0&&H()&&o[n.value];return e.keepAlive===!0?[x(va,P.value,[x(M.value===!0?l(C.value,()=>({...ht,name:C.value})):ht,{key:C.value,style:_.value},()=>b)])]:[x("div",{class:"q-panel scroll",style:_.value,key:C.value,role:"tabpanel"},[b])]}function ne(){if(o.length!==0)return e.animated===!0?[x(wt,{name:d.value},j)]:j()}function J(b){return o=ma(Fe(b.default,[])).filter(F=>F.props!==null&&F.props.slot===void 0&&v(F.props.name)===!0),o.length}function Q(){return o}return{panelIndex:n,panelDirectives:g,updatePanelsList:J,updatePanelIndex:H,getPanelContent:ne,getEnabledPanels:L,getPanels:Q,isValidPanelName:v,keepAliveProps:P,needsUniqueKeepAliveWrapper:M,goToPanelByOffset:A,goToPanel:h,nextPanel:E,previousPanel:B}}var _t=be({name:"QTabPanel",props:go,setup(e,{slots:t}){return()=>x("div",{class:"q-tab-panel"},Fe(t.default))}}),So=be({name:"QTabPanels",props:{...ko,...kt},emits:yo,setup(e,{slots:t}){const i=we(),l=yt(e,i.proxy.$q),{updatePanelsList:o,getPanelContent:a,panelDirectives:n}=wo(),d=c(()=>"q-tab-panels q-panel-parent"+(l.value===!0?" q-tab-panels--dark q-dark":""));return()=>(o(t),pa("div",{class:d.value},a(),"pan",e.swipeable,()=>n.value))}});const $o=typeof window=="undefined",Pe=new Map;let bt;$o||(document.addEventListener("mousedown",e=>bt=e,!1),document.addEventListener("mouseup",e=>{for(const{documentHandler:t}of Pe.values())t(e,bt)},!1));function gt(e,t){let i=[];return Array.isArray(t.arg)?i=t.arg:i.push(t.arg),function(l,o){const a=t.instance.popperRef,n=l.target,d=o.target,p=!t||!t.instance,g=!n||!d,r=e.contains(n)||e.contains(d),k=e===n,_=i.length&&i.some(P=>P==null?void 0:P.contains(n))||i.length&&i.includes(d),C=a&&(a.contains(n)||a.contains(d));p||g||r||k||_||C||t.value()}}const Ao={beforeMount(e,t){Pe.set(e,{documentHandler:gt(e,t),bindingFn:t.value})},updated(e,t){Pe.set(e,{documentHandler:gt(e,t),bindingFn:t.value})},unmounted(e){Pe.delete(e)}};var Ee="/app/assets/no-wallet-icon.1c8a2e11.svg";const To=_e({directives:{clickOutside:Ao},setup(){const{notify:e}=Re(),t=ye(),i=he(),{connected:l}=Be(),o=Xe(),a=Ie(),{depositFee:n,depositing:d,depositSol:p}=Lt(),{withdrawFee:g,withdrawing:r,setAmount:k,withdraw:_,useWithdrawSol:C}=Fa(),P=Kt(),M=c(()=>P.apy),E=c(()=>i.cluster),B=c(()=>o.solBalance),h=c(()=>o.tokenBalance),v=c(()=>t.fees),y=c(()=>t.exchangeRate),L=c(()=>t.connectionLost),S=ut({from:null,to:null,factor:0}),A=ut({from:null,to:null}),H=q("stake"),j=q(null),ne=q(null);Tt(()=>{me(()=>{j.value&&j.value.focus()})});const J=c(()=>{const w=Number(S.from);if(w<=0)return 0;let O=(w-le(n.value))*y.value;return O-=O*v.value.solDepositFee,O>0?O:0}),Q=c(()=>{const w=Number(A.from);if(w<=0)return 0;let O=(w-le(g.value))*(1/y.value);return O-=O*(C.value?v.value.solWithdrawalFee:v.value.withdrawalFee),O>0?O:0});ae(()=>S.from,()=>{if(!S.from){S.to=null;return}S.to=J.value>0?J.value.toFixed(5):0}),ae(Q,()=>{if(!A.from){A.to=null;return}k(A.from),A.to=Q.value>0?Q.value.toFixed(5):0});const b=q(0);ae(b,()=>{const w=B.value*b.value;S.from=w&&se(w/100)});const F=q(0);ae(F,()=>{const w=h.value*F.value;A.from=w&&se(w/100)});const X=q(!0),Z=q("");return{XSOL_NAME:ie,tab:H,stake:S,unstake:A,cluster:E,connected:l,depositing:d,withdrawing:r,unstakeType:Z,stakeFromInput:j,unstakeFromInput:ne,stakePercent:b,unstakePercent:F,connectionLost:L,useWithdrawSol:C,apy:c(()=>rt.format(M.value)),availableSol:c(()=>B.value?B.value:"0"),availableXsol:c(()=>h.value?h.value:"0"),solDepositFee:c(()=>v==null?void 0:v.value.solDepositFee),withdrawalFee:c(()=>v==null?void 0:v.value.withdrawalFee),solToXsolRate:c(()=>y.value===1?1:se(y.value)),xSolToSolRate:c(()=>y.value===1?1:se(1/y.value)),stakeMax(){if(!l.value){e({message:"Wallet is not connected",caption:"Please connect your wallet"});return}S.from=B.value},unstakeMax(){if(!l.value){e({message:"Wallet is not connected",caption:"Please connect your wallet"});return}A.from=h.value},stakeHandler:async()=>{var w;if(J.value<=0){(w=j.value)==null||w.focus();return}await p(S.from-le(n.value)),S.from=0,S.to=0},unstakeHandler:async(w=!1)=>{var O;if(Q.value<=0){(O=ne.value)==null||O.focus();return}Z.value=w?"delayed":"instant",await _(w),Z.value="",A.from=0,A.to=0,a.load()},formatPct(w){return rt.format(w)},onlyNumber(w){const O=w.keyCode?w.keyCode:w.which;(O<48||O>57)&&O!==46&&w.preventDefault(),O===46&&String(w.target.value).includes(".")&&w.preventDefault()},stakeInfo:c(()=>{const w=S.from,O=le(n.value),te=w?(w-O)*y.value:0;return{networkFee:`${O} SOL`,poolFee:`${se((te>0?te:0)*v.value.solDepositFee)} ${ie}`}}),unstakeInfo:c(()=>{const w=A.from,O=v.value.withdrawalFee,te=w*O;return{networkFee:`${le(g.value)} SOL`,poolFee:`${se(te)} ${ie}`}}),unstakeNowInfo:c(()=>{const w=A.from,O=v.value.solWithdrawalFee,te=w*O;return{networkFee:`${le(g.value)} SOL`,poolFee:`${se(te)} ${ie}`}}),highlightFix:X,onFocus(){X.value=!0},onBlur(){X.value=!1}}}}),Po={class:"row justify-center"},Co={class:"col"},Lo={class:"stake-box__title"},qo={key:0,class:"stake-box__warning gt-xs"},No={class:"stake-box__rate"},Io=s("span",{class:"text-dark"},"1",-1),Ro=s("span",null," SOL",-1),Bo=s("span",{class:"q-px-sm"},"\u2248",-1),Fo={class:"text-dark"},Eo={key:0,class:"stake-box__warning lt-sm"},Oo=K(" MAX "),Mo=s("img",{alt:"",class:"stake-field__icon",src:Ee},null,-1),xo=s("span",{class:"stake-field__symbol"},"SOL",-1),Do={class:"stake-field__symbol"},Uo={class:"row items-between"},Wo={class:"column col-sm-6 col-xs-12 q-pr-sm"},Vo={class:"stake-box__stake-info"},zo={class:"stake-box__stake-info"},Ko={class:"column justify-between col-sm-6 col-xs-12 q-pl-sm"},Qo=K(" STAKE NOW "),Xo={key:1,class:"text-right"},Go={class:"row justify-center"},Ho={class:"col"},jo={class:"stake-box__title"},Yo={key:0,class:"stake-box__warning gt-xs"},Jo={class:"stake-box__rate"},Zo=s("span",{class:"text-dark"},"1",-1),en=s("span",{class:"q-px-sm"},"\u2248",-1),tn={class:"text-dark"},an=s("span",null," SOL",-1),on={key:0,class:"stake-box__warning lt-sm"},nn=K(" MAX "),sn={class:"stake-field__symbol"},ln=s("img",{alt:"",class:"stake-field__icon",src:Ee},null,-1),rn=s("span",{class:"stake-field__symbol"},"SOL",-1),cn={class:"row items-between"},un={class:"column col-sm-6 col-xs-12 q-pr-sm"},dn={class:"stake-box__stake-info"},fn={class:"stake-box__stake-info"},vn={class:"column col-sm-6 col-xs-12 q-pl-sm"},mn=s("div",null,"UNSTAKE NOW",-1),pn={class:"row items-between q-mt-sm"},hn={class:"column col-sm-6 col-xs-12 q-pr-sm"},_n={class:"stake-box__stake-info"},bn={class:"stake-box__stake-info"},gn={class:"column col-sm-6 col-xs-12 q-pl-sm"},kn=s("div",null,"UNSTAKE DELAYED",-1);function yn(e,t,i,l,o,a){const n=lo,d=qt,p=Sa,g=ha("click-outside");return T(),ee(je,{class:"stake-box shadow-sm"},{default:m(()=>[f(n,{selected:e.tab==="stake",onClick:t[0]||(t[0]=()=>e.tab="stake")},null,8,["selected"]),f(mo,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=r=>e.tab=r),align:"justify","indicator-color":"transparent","active-bg-color":"primary-gray"},{default:m(()=>[f(ft,{ripple:!1,label:"STAKE",name:"stake",disable:e.connectionLost},null,8,["disable"]),f(ft,{ripple:!1,label:"UNSTAKE",name:"unstake",disable:e.connectionLost},null,8,["disable"])]),_:1},8,["modelValue"]),f(So,{modelValue:e.tab,"onUpdate:modelValue":t[8]||(t[8]=r=>e.tab=r),animated:"",class:"bg-transparent"},{default:m(()=>[f(_t,{name:"stake"},{default:m(()=>[f(Y,{class:"top-section"},{default:m(()=>[s("div",Po,[s("div",Co,[s("div",Lo,[K(" Available "+R(e.availableSol),1),e.connected&&Number(e.stake.from)>Number(e.availableSol)?(T(),V("span",qo,"Insufficient funds to run the transaction")):ve("",!0)])]),s("div",null,[s("div",No,[Io,Ro,Bo,s("span",Fo,R(e.solToXsolRate),1),s("span",null,"\xA0"+R(e.XSOL_NAME),1)])])]),e.connected&&Number(e.stake.from)>Number(e.availableSol)?(T(),V("div",Eo," Insufficient funds to run the transaction ")):ve("",!0)]),_:1}),f(Y,{class:"with-arrow"},{default:m(()=>[Pt((T(),ee(Ae,{ref:"stakeFromInput",modelValue:e.stake.from,"onUpdate:modelValue":t[2]||(t[2]=r=>e.stake.from=r),maxlength:14,label:"Amount to stake",class:St(["stake-box__input",{"stake-box__input--highlight-fix":e.highlightFix}]),outlined:"",placeholder:"0.0","stack-label":"",readonly:e.connectionLost,onFocus:e.onFocus,onKeypress:e.onlyNumber},{append:m(()=>[f(oe,{dense:"",color:"natural-light-gray","text-color":"primary-gray",unelevated:"",size:"14px",padding:"2px 8px 1px 8px",onClick:e.stakeMax},{default:m(()=>[Oo]),_:1},8,["onClick"]),Mo,xo]),_:1},8,["modelValue","class","readonly","onFocus","onKeypress"])),[[g,e.onBlur]])]),_:1}),f(Y,{class:"stake-to-input"},{default:m(()=>[f(Ae,{modelValue:e.stake.to,"onUpdate:modelValue":t[3]||(t[3]=r=>e.stake.to=r),label:e.XSOL_NAME,outlined:"",placeholder:"0.0",class:"stake-box__input-to",readonly:"","stack-label":"","bg-color":"transparent",onKeypress:e.onlyNumber},{append:m(()=>[f(d,{class:"stake-field__icon"}),s("span",Do,R(e.XSOL_NAME),1)]),_:1},8,["modelValue","label","onKeypress"])]),_:1}),f(Y,null,{default:m(()=>[s("div",Uo,[s("div",Wo,[s("div",Vo," Network Fee: "+R(e.stakeInfo.networkFee),1),s("div",zo," Pool Fee: "+R(e.stakeInfo.poolFee),1)]),s("div",Ko,[e.connected?(T(),ee(oe,{key:0,loading:e.depositing,class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.stake.from)>Number(e.availableSol),onClick:e.stakeHandler},{default:m(()=>[Qo]),_:1},8,["loading","disable","onClick"])):(T(),V("div",Xo,[f(p)]))])])]),_:1})]),_:1}),f(_t,{name:"unstake"},{default:m(()=>[f(Y,{class:"top-section"},{default:m(()=>[s("div",Go,[s("div",Ho,[s("div",jo,[K(" Available "+R(e.availableXsol),1),e.connected&&Number(e.unstake.from)>Number(e.availableXsol)?(T(),V("span",Yo,"Insufficient funds to run the transaction")):ve("",!0)])]),s("div",null,[s("div",Jo,[Zo,s("span",null,R(e.XSOL_NAME),1),en,s("span",tn,R(e.xSolToSolRate),1),an])])]),e.connected&&Number(e.unstake.from)>Number(e.availableXsol)?(T(),V("div",on," Insufficient funds to run the transaction ")):ve("",!0)]),_:1}),f(Y,{class:"with-arrow"},{default:m(()=>[f(Ae,{ref:"unstakeFromInput",modelValue:e.unstake.from,"onUpdate:modelValue":t[4]||(t[4]=r=>e.unstake.from=r),maxlength:14,class:"stake-box__input",label:`Staked ${e.XSOL_NAME}`,outlined:"",placeholder:"0.0","stack-label":"",readonly:e.connectionLost,onKeypress:e.onlyNumber},{append:m(()=>[f(oe,{dense:"",color:"natural-light-gray","text-color":"primary-gray",unelevated:"",size:"14px",padding:"2px 8px 1px 8px",onClick:e.unstakeMax},{default:m(()=>[nn]),_:1},8,["onClick"]),f(d,{class:"stake-field__icon"}),s("span",sn,R(e.XSOL_NAME),1)]),_:1},8,["modelValue","label","readonly","onKeypress"])]),_:1}),f(Y,{class:"stake-to-input"},{default:m(()=>[f(Ae,{modelValue:e.unstake.to,"onUpdate:modelValue":t[5]||(t[5]=r=>e.unstake.to=r),label:"Amount to unstake",outlined:"",placeholder:"0.0",class:"stake-box__input-to",readonly:"","stack-label":"","bg-color":"transparent"},{append:m(()=>[ln,rn]),_:1},8,["modelValue"])]),_:1}),f(Y,null,{default:m(()=>[s("div",cn,[s("div",un,[s("div",dn," Pool Fee: "+R(e.unstakeNowInfo.poolFee),1),s("div",fn," Network Fee: "+R(e.unstakeNowInfo.networkFee),1)]),s("div",vn,[e.connected?(T(),ee(oe,{key:0,loading:e.withdrawing&&e.unstakeType==="instant",class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.unstake.from)>Number(e.availableXsol)||e.unstakeType==="delayed"||!e.useWithdrawSol,onClick:t[6]||(t[6]=r=>e.unstakeHandler(!1))},{default:m(()=>[mn]),_:1},8,["loading","disable"])):(T(),ee(p,{key:1}))])])]),_:1}),e.connected?(T(),ee(Y,{key:0},{default:m(()=>[s("div",pn,[s("div",hn,[s("div",_n," Pool Fee: "+R(e.unstakeInfo.poolFee),1),s("div",bn," Network Fee: "+R(e.unstakeInfo.networkFee),1)]),s("div",gn,[f(oe,{loading:e.withdrawing&&e.unstakeType==="delayed",class:"stake-box__btn",color:"primary",rounded:"",size:"lg","text-color":"primary-gray",disable:e.connectionLost||Number(e.unstake.from)>Number(e.availableXsol)||e.unstakeType==="instant",onClick:t[7]||(t[7]=r=>e.unstakeHandler(!0))},{default:m(()=>[kn]),_:1},8,["loading","disable"])])])]),_:1})):ve("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})}var wn=ue(To,[["render",yn]]);const Sn=["top","middle","bottom"];var $n=be({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Sn.includes(e)}},setup(e,{slots:t}){const i=c(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=c(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:l.value,style:i.value,role:"alert","aria-label":e.label},Ct(t.default,e.label!==void 0?[e.label]:[]))}});const An=_e({props:{loading:Boolean,onlyDeposit:{type:Boolean,default:!1},stakeAccount:{type:Object,required:!0}},emits:["deposit","deactivate","withdraw"],setup(e,{emit:t}){const i=he(),l=q(),o=q(!0);return _a(async()=>{o.value=!0,l.value=await i.connection.getStakeActivation(e.stakeAccount.pubkey),o.value=!1}),{address:c(()=>e.stakeAccount.pubkey.toBase58()),voter:c(()=>{var a,n,d,p,g;return(g=(p=(d=(n=(a=e.stakeAccount.account.data)==null?void 0:a.parsed)==null?void 0:n.info)==null?void 0:d.stake)==null?void 0:p.delegation)==null?void 0:g.voter}),shortAddress:c(()=>Qt(e.stakeAccount.pubkey.toBase58())),amount:c(()=>{var a,n,d;return se(le((d=(n=(a=e.stakeAccount)==null?void 0:a.account)==null?void 0:n.lamports)!=null?d:0))}),lamports:c(()=>{var a,n;return(n=(a=e.stakeAccount)==null?void 0:a.account)==null?void 0:n.lamports}),state:c(()=>{var a;return(a=l.value)==null?void 0:a.state}),stateColor:c(()=>{var a;switch((a=l.value)==null?void 0:a.state){case"active":return"positive";case"inactive":return"negative";default:return"grey"}}),stateLoading:o,deposit(){t("deposit",e.stakeAccount)},deactivate(a){t("deactivate",a)},withdraw(a,n){t("withdraw",a,n)}}}}),Tn={class:"q-item q-item-type row"},Pn={class:"col-12 col-sm-6"},Cn={class:"q-mx-sm"},Ln={class:"col-12 col-sm-6"},qn=K(" DEPOSIT "),Nn=K(" DEACTIVATE "),In=K(" WITHDRAW ");function Rn(e,t,i,l,o,a){const n=Ra;return T(),V("div",Tn,[s("div",Pn,[f(ke,null,{default:m(()=>[f(n,{text:e.address},null,8,["text"]),s("span",Cn,R(e.shortAddress),1),f($n,{color:e.stateColor},{default:m(()=>[K(R(e.state),1)]),_:1},8,["color"])]),_:1}),f(ke,{caption:""},{default:m(()=>[K(R(e.amount)+" SOL ",1)]),_:1})]),s("div",Ln,[f($a,{rounded:"",unelevated:""},{default:m(()=>[e.state==="active"?(T(),V(Ne,{key:0},[f(oe,{color:"primary",onClick:e.deposit},{default:m(()=>[qn]),_:1},8,["onClick"]),e.onlyDeposit?ve("",!0):(T(),ee(oe,{key:0,color:"primary-gray",onClick:t[0]||(t[0]=d=>e.deactivate(e.address))},{default:m(()=>[Nn]),_:1}))],64)):(T(),ee(oe,{key:1,disabled:e.state==="deactivating",color:"secondary","text-color":"dark",onClick:t[1]||(t[1]=d=>e.withdraw(e.address,e.lamports))},{default:m(()=>[In]),_:1},8,["disabled"]))]),_:1})]),f(Nt,{showing:e.loading||e.stateLoading},{default:m(()=>[f(He,{color:"primary"})]),_:1},8,["showing"])])}var Bn=ue(An,[["render",Rn],["__scopeId","data-v-3c7553dd"]]);const Fn=_e({props:{voter:{type:String,required:!1}},emits:["beforeDeposit","afterDeposit","beforeDeactivate","afterDeactivate","beforeWithdraw","afterWithdraw"],setup(e,{emit:t}){const i=he(),{publicKey:l}=Be(),o=Ge(),a=Ie(),{monitorTransaction:n}=Ye(),{depositStake:d}=Lt(),p=c(()=>a.dialog),g=c(()=>a.loading),r=q();return{dialog:p,loading:g,loadingPubkey:r,accounts:c(()=>e.voter?a.data.filter(k=>{var _,C,P,M,E;return((E=(M=(P=(C=(_=k.account.data)==null?void 0:_.parsed)==null?void 0:C.info)==null?void 0:P.stake)==null?void 0:M.delegation)==null?void 0:E.voter)===e.voter}):a.data),updateDialog:k=>a.dialog=k,deposit:async k=>{t("beforeDeposit"),r.value=k.pubkey.toBase58(),await d(k)&&a.removeAccount(k.pubkey.toBase58()),r.value=null,t("afterDeposit")},deactivate:async k=>{t("beforeDeactivate"),r.value=k,await n(pe(i.connection,o.value,Le.deactivate({stakePubkey:new Ce(k),authorizedPubkey:l.value}).instructions,[]),{commitment:"finalized"}),r.value=null,t("afterDeactivate")},withdraw:async(k,_)=>{t("beforeWithdraw"),r.value=k,await n(pe(i.connection,o.value,Le.withdraw({stakePubkey:new Ce(k),authorizedPubkey:l.value,toPubkey:l.value,lamports:_}).instructions,[]),{onSuccess:()=>a.removeAccount(k)}),r.value=null,t("afterWithdraw")},refresh(){a.load()},icons:{close:ba,refresh:ga}}}}),En={class:"text-h6 text-center"},On=K(" Stake Accounts "),Mn={key:1,class:"flex flex-center q-pa-lg"},xn=K(" Your stake accounts will be shown here. "),Dn=s("br",null,null,-1),Un=K(" You don't have any valid stake accounts. "),Wn=[xn,Dn,Un];function Vn(e,t,i,l,o,a){const n=Bn;return T(),ee(Ta,{modelValue:e.dialog,"onUpdate:modelValue":[t[1]||(t[1]=d=>e.dialog=d),e.updateDialog]},{default:m(()=>[f(je,null,{default:m(()=>[e.loading?(T(),ee(Y,{key:0,class:"flex flex-center"},{default:m(()=>[f(He,{size:"md"})]),_:1})):(T(),V(Ne,{key:1},[f(Y,{class:"relative-position"},{default:m(()=>[s("div",En,[On,f(oe,{rounded:"",unelevated:"",dense:"",size:"sm",icon:e.icons.refresh,onClick:e.refresh},null,8,["icon","onClick"])]),f(oe,{padding:"md",color:"transparent","text-color":"primary-gray",unelevated:"",class:"absolute-right",icon:e.icons.close,size:"md",onClick:t[0]||(t[0]=d=>e.updateDialog(!1))},null,8,["icon"])]),_:1}),f(Aa),f(Y,{class:"scroll",style:{"max-height":"70vh"}},{default:m(()=>[e.accounts.length>0?(T(),ee(Qe,{key:0,separator:"",style:{width:"500px"}},{default:m(()=>[(T(!0),V(Ne,null,ka(e.accounts,d=>(T(),ee(n,{key:d.pubkey.toBase58(),"stake-account":d,loading:d.pubkey.toBase58()===e.loadingPubkey,onDeactivate:e.deactivate,onWithdraw:e.withdraw,onDeposit:e.deposit},null,8,["stake-account","loading","onDeactivate","onWithdraw","onDeposit"]))),128))]),_:1})):(T(),V("div",Mn,Wn))]),_:1})],64))]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])}var zn=ue(Fn,[["render",Vn]]);const Kn=_e({setup(){const e=ye(),t=Xe(),i=Ie(),l=Xt(),o=G(t,"solBalance"),a=G(t,"tokenBalance"),n=G(i,"stakeSolBalance"),d=G(i,"dialog"),p=c(()=>l.solPrice*o.value),g=c(()=>l.solPrice*a.value/e.exchangeRate),r=c(()=>l.solPrice*n.value);return{XSOL_NAME:ie,solBalance:o,tokenBalance:a,solUsd:p,tokenUsd:g,stackedUsd:r,totalUsd:c(()=>p.value+g.value+r.value),stakeSolBalance:c(()=>n.value),formatPrice:k=>Gt.format(k),formatMoney:k=>Ht(k),openDetails(){d.value=!0}}}}),Qn=s("div",null,"WALLET",-1),Xn={class:"balance__value__usd"},Gn=s("img",{alt:"",src:Ee},null,-1),Hn=s("span",null,"SOL",-1),jn={class:"balance__value__usd"},Yn=s("div",{class:"wallet-balance__staking__title"}," STAKING ",-1),Jn=K(" Details "),Zn={class:"balance__value__usd"},es=s("img",{alt:"",src:Ee},null,-1),ts=s("span",null,"SOL",-1);function as(e,t,i,l,o,a){const n=qt,d=zn;return T(),V(Ne,null,[f(je,{class:"wallet-balance"},{default:m(()=>[f(Y,{class:"wallet-balance__head"},{default:m(()=>[s("div",null,"$"+R(e.formatMoney(e.totalUsd)),1),Qn]),_:1}),f(Y,{class:"wallet-balance__body"},{default:m(()=>[f(Qe,{dense:"",separator:""},{default:m(()=>[f(Ve,null,{default:m(()=>[f(de,{class:"balance__value"},{default:m(()=>[s("span",null,R(e.formatPrice(e.solBalance)),1),s("span",Xn,"$"+R(e.formatMoney(e.solUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[Gn,Hn]),_:1})]),_:1})]),_:1}),f(Ve,null,{default:m(()=>[f(de,{class:"balance__value"},{default:m(()=>[K(R(e.formatPrice(e.tokenBalance))+" ",1),s("span",jn,"$"+R(e.formatMoney(e.tokenUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[f(n),s("span",null,R(e.XSOL_NAME),1)]),_:1})]),_:1})]),_:1})]),_:1}),Yn,f(Qe,{dense:"",separator:""},{default:m(()=>[f(Ve,null,{default:m(()=>[f(de,{side:""},{default:m(()=>[f(oe,{rounded:"",size:"sm",unelevated:"",color:"primary","text-color":"primary-gray",dense:"",class:"q-px-md",onClick:e.openDetails},{default:m(()=>[Jn]),_:1},8,["onClick"])]),_:1}),f(de,{class:"balance__value"},{default:m(()=>[K(R(e.formatPrice(e.stakeSolBalance))+" ",1),s("span",Zn,"$"+R(e.formatMoney(e.stackedUsd)),1)]),_:1}),f(de,{side:""},{default:m(()=>[f(ke,null,{default:m(()=>[es,ts]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(d)],64)}var os=ue(Kn,[["render",as]]),ns="/app/assets/no-wallet-icon.1c8a2e11.svg";const ss={setup(){const{connected:e}=Be();return{NO_WALLET_ICON:jt,connected:e}}},ls={class:"firstlook-section"},is={class:"container"},rs={class:"firstlook__body"},cs={class:"lt-sm flex"},us={class:"total-stacked-alter flex justify-center q-mx-auto"},ds={class:"lt-md flex"},fs={class:"firstlook__epoch"},vs={class:"row justify-between relative-position"},ms={key:0,class:"col col-12 col-md-4 q-pr-md firstlook__wallet"},ps={key:1,class:"firstlook__placeholder"},hs=["src"],_s={key:1,alt:"",class:"firstlook__placeholder__icon",src:ns},bs={class:"col col-12 col-md-8 q-pl-md q-ml-auto firstlook__stake-box"};function gs(e,t,i,l,o,a){const n=Pa,d=Ca,p=os,g=wn;return T(),V("section",ls,[s("div",is,[s("div",rs,[s("div",cs,[s("div",us,[f(n)])]),s("div",ds,[s("div",fs,[f(d)])]),s("div",vs,[l.connected?(T(),V("div",ms,[f(p)])):(T(),V("div",ps,[l.NO_WALLET_ICON?(T(),V("img",{key:0,alt:"",class:"firstlook__placeholder__icon",src:l.NO_WALLET_ICON},null,8,hs)):(T(),V("img",_s))])),s("div",bs,[f(g)])])])])])}var ks=ue(ss,[["render",gs]]);const ys={};function ws(e,t){const i=ks,l=Ja,o=Wa;return T(),ee(ya,null,{default:m(()=>[f(i),f(l),f(o)]),_:1})}var Ps=ue(ys,[["render",ws]]);export{Ps as default};
